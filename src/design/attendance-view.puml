@startuml View_Attendance_Logs
!theme plain
skinparam backgroundColor #FAFAFA
skinparam sequence {
    ArrowColor #1976D2
    ActorBorderColor #0D47A1
    LifeLineBorderColor #42A5F5
    LifeLineBackgroundColor #E3F2FD
    ParticipantBorderColor #1565C0
    ParticipantBackgroundColor #BBDEFB
}

title Professor Views Attendance Logs

actor Professor
participant "Express\nServer" as Express
participant "Log\nRouter" as LogRouter
participant "Async\nHandler" as Async
participant "Log\nController" as LogController
participant "Log\nService" as LogService
participant "Log\nModel" as LogModel
database MongoDB

Professor -> Express: GET /api/v1/logs
activate Express

Express -> LogRouter: Route request
activate LogRouter

LogRouter -> Async: asyncHandler(getLogs)
activate Async

Async -> LogController: getLogs(req, res, next)
activate LogController

LogController -> LogService: getLogs()
activate LogService

LogService -> LogModel: find().lean().exec()
activate LogModel
note right of LogModel
    .lean() returns plain objects
    for better performance
end note

LogModel -> MongoDB: Query all logs
activate MongoDB
MongoDB --> LogModel: Array of log documents
deactivate MongoDB

LogModel --> LogService: ILog[]
deactivate LogModel

LogService --> LogController: Logs array
deactivate LogService

LogController --> Express: res.json(logs)
deactivate LogController
deactivate Async
deactivate LogRouter

Express --> Professor: 200 OK\n[{log1}, {log2}, ...]
deactivate Express

@enduml